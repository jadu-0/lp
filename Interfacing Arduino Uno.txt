#include <Servo.h>

int Dist = 0;

long readUltrasonicDistance(int triggerPin, int echoPin)
{
    pinMode(triggerPin, OUTPUT); // Clear the trigger
    digitalWrite(triggerPin, LOW);
    delayMicroseconds(2);

    // Sets the trigger pin to HIGH state for 10 microseconds
    digitalWrite(triggerPin, HIGH);
    delayMicroseconds(10);
    digitalWrite(triggerPin, LOW);

    pinMode(echoPin, INPUT);

    // Reads the echo pin, and returns the sound wave travel time in microseconds
    return pulseIn(echoPin, HIGH);
}

Servo servo13;

void setup()
{
    servo13.attach(13, 500, 2500);

    pinMode(8, OUTPUT);
    pinMode(2, OUTPUT);
    pinMode(1, OUTPUT);
}

void loop()
{
    Dist = 0.01723 * readUltrasonicDistance(12, 12);

    if (Dist < 100) 
    {
        servo13.write(90);
        digitalWrite(8, HIGH);
        digitalWrite(2, HIGH);
        digitalWrite(1, LOW);
    }
    else 
    {
        servo13.write(0);
        digitalWrite(8, LOW);
        digitalWrite(1, HIGH);
        digitalWrite(2, LOW);
    }

    delay(200); // Wait for 200 milliseconds
}
